{
    "code": "def clean_openapi_formatting(input_file: str, output_file: str | None = None) -> None:\n    \"\"\"Clean OpenAPI spec formatting by converting newlines to HTML breaks.\n\n    Args:\n        input_file: Path to input OpenAPI JSON file\n        output_file: Path to output file (defaults to overwriting input)\n    \"\"\"\n    if output_file is None:\n        output_file = input_file\n\n    try:\n        # Load the OpenAPI spec\n        input_path = Path(input_file)\n        with input_path.open(encoding=\"utf-8\") as f:\n            spec = json.load(f)\n\n        # Fix description formatting by converting newlines to HTML breaks\n        if \"paths\" in spec:\n            for path_item in spec[\"paths\"].values():\n                for operation in path_item.values():\n                    if isinstance(operation, dict) and \"description\" in operation:\n                        description = operation[\"description\"]\n                        if description:\n                            # Convert newlines to HTML breaks for better ReDoc rendering\n                            operation[\"description\"] = description.replace(\"\\n\", \"<br>\")\n\n        # Save the cleaned spec\n        output_path = Path(output_file)\n        with output_path.open(\"w\", encoding=\"utf-8\") as f:\n            json.dump(spec, f, indent=2, ensure_ascii=False)\n\n        # Success message (using sys.stdout for consistency)\n        sys.stdout.write(f\"OpenAPI spec cleaned successfully: {output_file}\\n\")\n\n    except FileNotFoundError:\n        sys.stderr.write(f\"Error: File not found: {input_file}\\n\")\n        sys.exit(1)\n    except json.JSONDecodeError as e:\n        sys.stderr.write(f\"Error: Invalid JSON in {input_file}: {e}\\n\")\n        sys.exit(1)\n    except OSError as e:\n        sys.stderr.write(f\"Error: {e}\\n\")\n        sys.exit(1)",
    "source": "github_repo:langflow-ai/langflow",
    "file": "docs/scripts/clean_openapi_formatting.py",
    "license": "MIT",
    "language": "python"
}