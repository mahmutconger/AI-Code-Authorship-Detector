{
    "code": "def test_conflate(self):\n    sock = \"carState\"\n    pub_sock = messaging.pub_sock(sock)\n    sm = messaging.SubMaster([sock,])\n\n    n = 10\n    for i in range(n+1):\n      msg = messaging.new_message(sock)\n      msg.carState.vEgo = i\n      pub_sock.send(msg.to_bytes())\n      time.sleep(0.01)\n    sm.update(1000)\n    assert sm[sock].vEgo == n",
    "source": "github_repo:commaai/openpilot",
    "file": "cereal/messaging/tests/test_pub_sub_master.py",
    "license": "MIT",
    "language": "python"
}