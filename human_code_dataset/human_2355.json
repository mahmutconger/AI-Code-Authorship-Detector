{
    "code": "class ExperimentConfig:\n    \"\"\"Defines experiment configs and paths to outputs.\n\n    Attributes:\n      root_folder: Root folder to contain all experimental outputs.\n      experiment: Name of experiment to run.\n      data_folder: Folder to store data for experiment.\n      model_folder: Folder to store serialised models.\n      results_folder: Folder to store results.\n      data_csv_path: Path to primary data csv file used in experiment.\n      hyperparam_iterations: Default number of random search iterations for\n        experiment.\n    \"\"\"\n\n    default_experiments = [\"Alpha158\"]\n\n    def __init__(self, experiment=\"volatility\", root_folder=None):\n        \"\"\"Creates configs based on default experiment chosen.\n\n        Args:\n          experiment: Name of experiment.\n          root_folder: Root folder to save all outputs of training.\n        \"\"\"\n\n        if experiment not in self.default_experiments:\n            raise ValueError(\"Unrecognised experiment={}\".format(experiment))\n\n        # Defines all relevant paths\n        if root_folder is None:\n            root_folder = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"..\", \"outputs\")\n            print(\"Using root folder {}\".format(root_folder))\n\n        self.root_folder = root_folder\n        self.experiment = experiment\n        self.data_folder = os.path.join(root_folder, \"data\", experiment)\n        self.model_folder = os.path.join(root_folder, \"saved_models\", experiment)\n        self.results_folder = os.path.join(root_folder, \"results\", experiment)\n\n        # Creates folders if they don't exist\n        for relevant_directory in [self.root_folder, self.data_folder, self.model_folder, self.results_folder]:\n            if not os.path.exists(relevant_directory):\n                os.makedirs(relevant_directory)\n\n    @property\n    def data_csv_path(self):\n        csv_map = {\n            \"Alpha158\": \"Alpha158.csv\",\n        }\n\n        return os.path.join(self.data_folder, csv_map[self.experiment])\n\n    @property\n    def hyperparam_iterations(self):\n        return 240 if self.experiment == \"volatility\" else 60\n\n    def make_data_formatter(self):\n        \"\"\"Gets a data formatter object for experiment.\n\n        Returns:\n          Default DataFormatter per experiment.\n        \"\"\"\n\n        data_formatter_class = {\n            \"Alpha158\": data_formatters.qlib_Alpha158.Alpha158Formatter,\n        }\n\n        return data_formatter_class[self.experiment]()",
    "source": "github_repo:microsoft/qlib",
    "file": "examples/benchmarks/TFT/expt_settings/configs.py",
    "license": "MIT",
    "language": "python"
}