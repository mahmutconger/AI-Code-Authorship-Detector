{
    "code": "def _imread(path):\n    path = unquote(path)  # 做一次URL解码\n    if path.startswith(\"image://pixmapprovider/\"):\n        path = path[23:]\n        if \"/\" in path:\n            compID, imgID = path.split(\"/\", 1)\n            if imgID in PixmapProvider.pixmapDict:\n                return {\"type\": \"pixmap\", \"data\": PixmapProvider.pixmapDict[imgID]}\n        else:\n            return {\"type\": \"error\", \"data\": f\"[Warning] ID not in pixmapDict: {path}\"}\n    elif path.startswith(\"file:///\"):\n        path = path[8:]\n        if os.path.exists(path):\n            try:\n                image = QImage(path)\n                return {\"type\": \"qimage\", \"data\": image, \"path\": path}\n            except Exception as e:\n                return {\n                    \"type\": \"error\",\n                    \"data\": f\"[Error] QImage cannot read path: {path}\",\n                }\n        else:\n            return {\"type\": \"error\", \"data\": f\"[Warning] Path {path} not exists.\"}\n    elif path in PixmapProvider.pixmapDict:\n        return {\"type\": \"pixmap\", \"data\": PixmapProvider.pixmapDict[path]}\n    elif os.path.exists(path):\n        try:\n            image = QImage(path)\n            return {\"type\": \"qimage\", \"data\": image, \"path\": path}\n        except Exception as e:\n            return {\"type\": \"error\", \"data\": f\"[Error] QImage cannot read path: {path}\"}\n    return {\"type\": \"error\", \"data\": f\"[Warning] Unknow: {path}\"}",
    "source": "github_repo:hiroi-sora/Umi-OCR",
    "file": "UmiOCR-data/py_src/image_controller/image_provider.py",
    "license": "MIT",
    "language": "python"
}