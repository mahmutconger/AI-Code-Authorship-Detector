{
    "code": "class CreateAgentTaskEvent(BaseEvent):\n\t# Model fields\n\tid: str = Field(default_factory=uuid7str)\n\tuser_id: str = Field(max_length=255)  # Added for authorization checks\n\tdevice_id: str | None = Field(None, max_length=255)  # Device ID for auth lookup\n\tagent_session_id: str\n\tllm_model: str = Field(max_length=200)  # LLMModel enum value as string\n\tstopped: bool = False\n\tpaused: bool = False\n\ttask: str = Field(max_length=MAX_TASK_LENGTH)\n\tdone_output: str | None = Field(None, max_length=MAX_STRING_LENGTH)\n\tscheduled_task_id: str | None = None\n\tstarted_at: datetime = Field(default_factory=lambda: datetime.now(timezone.utc))\n\tfinished_at: datetime | None = None\n\tagent_state: dict = Field(default_factory=dict)\n\tuser_feedback_type: str | None = Field(None, max_length=10)  # UserFeedbackType enum value as string\n\tuser_comment: str | None = Field(None, max_length=MAX_COMMENT_LENGTH)\n\tgif_url: str | None = Field(None, max_length=MAX_URL_LENGTH)\n\n\t@classmethod\n\tdef from_agent(cls, agent) -> 'CreateAgentTaskEvent':\n\t\t\"\"\"Create a CreateAgentTaskEvent from an Agent instance\"\"\"\n\t\treturn cls(\n\t\t\tid=str(agent.task_id),\n\t\t\tuser_id='',  # To be filled by cloud handler\n\t\t\tdevice_id=agent.cloud_sync.auth_client.device_id\n\t\t\tif hasattr(agent, 'cloud_sync') and agent.cloud_sync and agent.cloud_sync.auth_client\n\t\t\telse None,\n\t\t\tagent_session_id=str(agent.session_id),\n\t\t\ttask=agent.task,\n\t\t\tllm_model=agent.llm.model_name,\n\t\t\tagent_state=agent.state.model_dump() if hasattr(agent.state, 'model_dump') else {},\n\t\t\tstopped=False,\n\t\t\tpaused=False,\n\t\t\tdone_output=None,\n\t\t\tstarted_at=datetime.fromtimestamp(agent._task_start_time, tz=timezone.utc),\n\t\t\tfinished_at=None,\n\t\t\tuser_feedback_type=None,\n\t\t\tuser_comment=None,\n\t\t\tgif_url=None,\n\t\t)",
    "source": "github_repo:browser-use/browser-use",
    "file": "browser_use/agent/cloud_events.py",
    "license": "MIT",
    "language": "python"
}