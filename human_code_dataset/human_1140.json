{
    "code": "def select_with_arrows(options: dict, prompt_text: str = \"Select an option\", default_key: str = None) -> str:\n    \"\"\"\n    Interactive selection using arrow keys with Rich Live display.\n    \n    Args:\n        options: Dict with keys as option keys and values as descriptions\n        prompt_text: Text to show above the options\n        default_key: Default option key to start with\n        \n    Returns:\n        Selected option key\n    \"\"\"\n    option_keys = list(options.keys())\n    if default_key and default_key in option_keys:\n        selected_index = option_keys.index(default_key)\n    else:\n        selected_index = 0\n\n    selected_key = None\n\n    def create_selection_panel():\n        \"\"\"Create the selection panel with current selection highlighted.\"\"\"\n        table = Table.grid(padding=(0, 2))\n        table.add_column(style=\"cyan\", justify=\"left\", width=3)\n        table.add_column(style=\"white\", justify=\"left\")\n\n        for i, key in enumerate(option_keys):\n            if i == selected_index:\n                table.add_row(\"▶\", f\"[cyan]{key}[/cyan] [dim]({options[key]})[/dim]\")\n            else:\n                table.add_row(\" \", f\"[cyan]{key}[/cyan] [dim]({options[key]})[/dim]\")\n\n        table.add_row(\"\", \"\")\n        table.add_row(\"\", \"[dim]Use ↑/↓ to navigate, Enter to select, Esc to cancel[/dim]\")\n\n        return Panel(\n            table,\n            title=f\"[bold]{prompt_text}[/bold]\",\n            border_style=\"cyan\",\n            padding=(1, 2)\n        )\n\n    console.print()\n\n    def run_selection_loop():\n        nonlocal selected_key, selected_index\n        with Live(create_selection_panel(), console=console, transient=True, auto_refresh=False) as live:\n            while True:\n                try:\n                    key = get_key()\n                    if key == 'up':\n                        selected_index = (selected_index - 1) % len(option_keys)\n                    elif key == 'down':\n                        selected_index = (selected_index + 1) % len(option_keys)\n                    elif key == 'enter':\n                        selected_key = option_keys[selected_index]\n                        break\n                    elif key == 'escape':\n                        console.print(\"\\n[yellow]Selection cancelled[/yellow]\")\n                        raise typer.Exit(1)\n\n                    live.update(create_selection_panel(), refresh=True)\n\n                except KeyboardInterrupt:\n                    console.print(\"\\n[yellow]Selection cancelled[/yellow]\")\n                    raise typer.Exit(1)\n\n    run_selection_loop()\n\n    if selected_key is None:\n        console.print(\"\\n[red]Selection failed.[/red]\")\n        raise typer.Exit(1)\n\n    return selected_key",
    "source": "github_repo:github/spec-kit",
    "file": "src/specify_cli/__init__.py",
    "license": "MIT",
    "language": "python"
}