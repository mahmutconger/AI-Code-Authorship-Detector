{
    "code": "def _create_nested_model(\n        self, schema: dict[str, Any], model_name: str\n    ) -> type[Any]:\n        \"\"\"Create a nested Pydantic model for complex objects.\"\"\"\n        full_model_name = f\"{self._base_name}{model_name}\"\n\n        if full_model_name in self._model_registry:\n            return self._model_registry[full_model_name]\n\n        properties = schema.get(\"properties\", {})\n        required_fields = schema.get(\"required\", [])\n\n        if not properties:\n            return dict\n\n        field_definitions = {}\n        for prop_name, prop_schema in properties.items():\n            prop_desc = prop_schema.get(\"description\", \"\")\n            is_required = prop_name in required_fields\n\n            try:\n                prop_type = self._process_schema_type(\n                    prop_schema, f\"{model_name}{self._sanitize_name(prop_name).title()}\"\n                )\n            except Exception:\n                prop_type = str\n\n            field_definitions[prop_name] = self._create_field_definition(\n                prop_type,\n                is_required,\n                prop_desc,  # type: ignore[arg-type]\n            )\n\n        try:\n            nested_model = create_model(full_model_name, **field_definitions)  # type: ignore[call-overload]\n            self._model_registry[full_model_name] = nested_model\n            return nested_model\n        except Exception:\n            return dict",
    "source": "github_repo:crewAIInc/crewAI",
    "file": "lib/crewai-tools/src/crewai_tools/adapters/enterprise_adapter.py",
    "license": "MIT",
    "language": "python"
}