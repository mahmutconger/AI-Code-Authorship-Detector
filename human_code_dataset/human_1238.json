{
    "code": "def delete_video(request: Request, task_id: str = Path(..., description=\"Task ID\")):\n    request_id = base.get_task_id(request)\n    task = sm.state.get_task(task_id)\n    if task:\n        tasks_dir = utils.task_dir()\n        current_task_dir = os.path.join(tasks_dir, task_id)\n        if os.path.exists(current_task_dir):\n            shutil.rmtree(current_task_dir)\n\n        sm.state.delete_task(task_id)\n        logger.success(f\"video deleted: {utils.to_json(task)}\")\n        return utils.get_response(200)\n\n    raise HttpException(\n        task_id=task_id, status_code=404, message=f\"{request_id}: task not found\"\n    )",
    "source": "github_repo:harry0703/MoneyPrinterTurbo",
    "file": "app/controllers/v1/video.py",
    "license": "MIT",
    "language": "python"
}