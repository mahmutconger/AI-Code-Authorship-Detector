{
    "code": "class DisplayablePath(object):\n    \"\"\"\n    Represents and displays a file system path in a tree-like structure.\n\n    This class is used to visually represent the structure of directories and files\n    in a way that is similar to a file explorer's tree view.\n    \"\"\"\n\n    display_filename_prefix_middle = \"├── \"\n    display_filename_prefix_last = \"└── \"\n    display_parent_prefix_middle = \"    \"\n    display_parent_prefix_last = \"│   \"\n\n    def __init__(\n        self, path: Union[str, Path], parent_path: \"DisplayablePath\", is_last: bool\n    ):\n        \"\"\"\n        Initializes a DisplayablePath object with a given path and parent.\n\n        Parameters\n        ----------\n        path : Union[str, Path]\n            The file system path to be displayed.\n        parent_path : DisplayablePath\n            The parent path in the tree structure.\n        is_last : bool\n            Indicates whether this is the last sibling in the tree structure.\n        \"\"\"\n        self.depth = 0\n        self.path = Path(str(path))\n        self.parent = parent_path\n        self.is_last = is_last\n        if self.parent:\n            self.depth = self.parent.depth + 1  # Increment depth if it has a parent\n\n    @property\n    def display_name(self) -> str:\n        \"\"\"\n        Get the display name of the file or directory.\n        \"\"\"\n        if self.path.is_dir():\n            return self.path.name + \"/\"\n        return self.path.name\n\n    @classmethod\n    def make_tree(\n        cls, root: Union[str, Path], parent=None, is_last=False, criteria=None\n    ) -> Generator[\"DisplayablePath\", None, None]:\n        \"\"\"\n        Creates a tree of DisplayablePath objects from a root directory.\n\n        Parameters\n        ----------\n        root : Union[str, Path]\n            The root directory from which to start creating the tree.\n        parent : DisplayablePath, optional\n            The parent path in the tree structure.\n        is_last : bool, optional\n            Indicates whether this is the last sibling in the tree structure.\n        criteria : callable, optional\n            A function to filter the paths included in the tree.\n\n        Yields\n        ------\n        DisplayablePath\n            The next DisplayablePath object in the tree.\n        \"\"\"\n        root = Path(str(root))  # Ensure root is a Path object\n        criteria = criteria or cls._default_criteria\n        displayable_root = cls(root, parent, is_last)\n        yield displayable_root\n\n        if root.is_dir():  # Check if root is a directory before iterating\n            children = sorted(\n                list(path for path in root.iterdir() if criteria(path)),\n                key=lambda s: str(s).lower(),\n            )\n            count = 1\n            for path in children:\n                is_last = count == len(children)\n                yield from cls.make_tree(\n                    path, parent=displayable_root, is_last=is_last, criteria=criteria\n                )\n                count += 1\n\n    @classmethod\n    def _default_criteria(cls, path: Path) -> bool:\n        \"\"\"\n        The default criteria function to filter the paths.\n        \"\"\"\n        return True\n\n    def displayable(self) -> str:\n        \"\"\"\n        Returns a string representation of the path for display in a tree-like structure.\n\n        Returns\n        -------\n        str\n            The displayable string representation of the file or directory.\n        \"\"\"\n        if self.parent is None:\n            return self.display_name\n\n        _filename_prefix = (\n            self.display_filename_prefix_last\n            if self.is_last\n            else self.display_filename_prefix_middle\n        )\n\n        parts = [\"{!s} {!s}\".format(_filename_prefix, self.display_name)]\n\n        parent = self.parent\n        while parent and parent.parent is not None:\n            parts.append(\n                self.display_parent_prefix_middle\n                if parent.is_last\n                else self.display_parent_prefix_last\n            )\n            parent = parent.parent\n\n        return \"\".join(reversed(parts))  # Assemble the parts into the final string",
    "source": "github_repo:AntonOsika/gpt-engineer",
    "file": "gpt_engineer/applications/cli/file_selector.py",
    "license": "MIT",
    "language": "python"
}