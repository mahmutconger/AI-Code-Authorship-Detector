{
    "code": "def _get_pydantic_test_configs(\n    dir_: str, *, python_version: str = \"3.12\"\n) -> List[Dict[str, str]]:\n    with open(\"./libs/core/uv.lock\", \"rb\") as f:\n        core_uv_lock_data = tomllib.load(f)\n    for package in core_uv_lock_data[\"package\"]:\n        if package[\"name\"] == \"pydantic\":\n            core_max_pydantic_minor = package[\"version\"].split(\".\")[1]\n            break\n\n    with open(f\"./{dir_}/uv.lock\", \"rb\") as f:\n        dir_uv_lock_data = tomllib.load(f)\n\n    for package in dir_uv_lock_data[\"package\"]:\n        if package[\"name\"] == \"pydantic\":\n            dir_max_pydantic_minor = package[\"version\"].split(\".\")[1]\n            break\n\n    core_min_pydantic_version = get_min_version_from_toml(\n        \"./libs/core/pyproject.toml\", \"release\", python_version, include=[\"pydantic\"]\n    )[\"pydantic\"]\n    core_min_pydantic_minor = (\n        core_min_pydantic_version.split(\".\")[1]\n        if \".\" in core_min_pydantic_version\n        else \"0\"\n    )\n    dir_min_pydantic_version = get_min_version_from_toml(\n        f\"./{dir_}/pyproject.toml\", \"release\", python_version, include=[\"pydantic\"]\n    ).get(\"pydantic\", \"0.0.0\")\n    dir_min_pydantic_minor = (\n        dir_min_pydantic_version.split(\".\")[1]\n        if \".\" in dir_min_pydantic_version\n        else \"0\"\n    )\n\n    max_pydantic_minor = min(\n        int(dir_max_pydantic_minor),\n        int(core_max_pydantic_minor),\n    )\n    min_pydantic_minor = max(\n        int(dir_min_pydantic_minor),\n        int(core_min_pydantic_minor),\n    )\n\n    configs = [\n        {\n            \"working-directory\": dir_,\n            \"pydantic-version\": f\"2.{v}.0\",\n            \"python-version\": python_version,\n        }\n        for v in range(min_pydantic_minor, max_pydantic_minor + 1)\n    ]\n    return configs",
    "source": "github_repo:langchain-ai/langchain",
    "file": ".github/scripts/check_diff.py",
    "license": "MIT",
    "language": "python"
}