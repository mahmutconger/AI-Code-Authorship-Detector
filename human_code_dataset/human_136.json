{
    "code": "def generate_coveragerc(bundle_names: set[str], legacy_files: set[str], output_path: Path):\n    \"\"\"Generate .coveragerc file with omit patterns.\"\"\"\n    # Base coveragerc content\n    config_content = \"\"\"# Auto-generated .coveragerc file\n# Generated by scripts/generate_coverage_config.py\n# Do not edit manually - changes will be overwritten\n\n[run]\nsource = src/backend/base/langflow\nomit =\n    # Test files\n    */tests/*\n    */test_*\n    */*test*\n\n    # Migration files\n    */alembic/*\n    */migrations/*\n\n    # Cache and build files\n    */__pycache__/*\n    */.*\n\n    # Init files (typically just imports)\n    */__init__.py\n\n    # Deactivate Components\n    */components/deactivated/*\n\n\"\"\"\n\n    # Add bundled components to omit list\n    if bundle_names:\n        config_content += \"    # Bundled components from SIDEBAR_BUNDLES\\n\"\n        for bundle_name in sorted(bundle_names):\n            config_content += f\"    */components/{bundle_name}/*\\n\"\n        config_content += \"\\n\"\n\n    # Add legacy components to omit list\n    if legacy_files:\n        config_content += \"    # Legacy components (contain 'legacy = True')\\n\"\n        for legacy_file in sorted(legacy_files):\n            # Convert relative path to omit pattern\n            omit_pattern = f\"    */components/{legacy_file}\\n\"\n            config_content += omit_pattern\n\n    config_content += \"\"\"\n# Note: [report] and [html] sections omitted for Codecov compatibility\n# Codecov handles its own reporting and ignores these sections\n\"\"\"\n\n    # Write the config file\n    output_path.parent.mkdir(parents=True, exist_ok=True)\n    with output_path.open(\"w\", encoding=\"utf-8\") as f:\n        f.write(config_content)\n\n    print(f\"Generated .coveragerc at {output_path}\")\n    print(f\"  - Omitting {len(bundle_names)} bundled component directories\")\n    print(f\"  - Omitting {len(legacy_files)} legacy component files\")",
    "source": "github_repo:langflow-ai/langflow",
    "file": "scripts/generate_coverage_config.py",
    "license": "MIT",
    "language": "python"
}