{
    "code": "def get_minimum_version(package_name: str, spec_string: str) -> str | None:\n    \"\"\"Find the minimum published version that satisfies the given constraints.\n\n    Args:\n        package_name: Name of the package\n        spec_string: Version specification string (e.g., \">=0.2.43,<0.4.0,!=0.3.0\")\n\n    Returns:\n        Minimum compatible version or None if no compatible version found\n    \"\"\"\n    # Rewrite occurrences of ^0.0.z to 0.0.z (can be anywhere in constraint string)\n    spec_string = re.sub(r\"\\^0\\.0\\.(\\d+)\", r\"0.0.\\1\", spec_string)\n    # Rewrite occurrences of ^0.y.z to >=0.y.z,<0.y+1 (can be anywhere in constraint string)\n    for y in range(1, 10):\n        spec_string = re.sub(\n            rf\"\\^0\\.{y}\\.(\\d+)\", rf\">=0.{y}.\\1,<0.{y + 1}\", spec_string\n        )\n    # Rewrite occurrences of ^x.y.z to >=x.y.z,<x+1.0.0 (can be anywhere in constraint string)\n    for x in range(1, 10):\n        spec_string = re.sub(\n            rf\"\\^{x}\\.(\\d+)\\.(\\d+)\", rf\">={x}.\\1.\\2,<{x + 1}\", spec_string\n        )\n\n    spec_set = SpecifierSet(spec_string)\n    all_versions = get_pypi_versions(package_name)\n\n    valid_versions = []\n    for version_str in all_versions:\n        try:\n            version = parse(version_str)\n            if spec_set.contains(version):\n                valid_versions.append(version)\n        except ValueError:\n            continue\n\n    return str(min(valid_versions)) if valid_versions else None",
    "source": "github_repo:langchain-ai/langchain",
    "file": ".github/scripts/get_min_versions.py",
    "license": "MIT",
    "language": "python"
}