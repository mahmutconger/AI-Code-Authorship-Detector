{
    "code": "class BaiduUnitBot(Bot):\n    def reply(self, query, context=None):\n        token = self.get_token()\n        url = \"https://aip.baidubce.com/rpc/2.0/unit/service/v3/chat?access_token=\" + token\n        post_data = (\n            '{\"version\":\"3.0\",\"service_id\":\"S73177\",\"session_id\":\"\",\"log_id\":\"7758521\",\"skill_ids\":[\"1221886\"],\"request\":{\"terminal_id\":\"88888\",\"query\":\"'\n            + query\n            + '\", \"hyper_params\": {\"chat_custom_bot_profile\": 1}}}'\n        )\n        print(post_data)\n        headers = {\"content-type\": \"application/x-www-form-urlencoded\"}\n        response = requests.post(url, data=post_data.encode(), headers=headers)\n        if response:\n            reply = Reply(\n                ReplyType.TEXT,\n                response.json()[\"result\"][\"context\"][\"SYS_PRESUMED_HIST\"][1],\n            )\n            return reply\n\n    def get_token(self):\n        access_key = \"YOUR_ACCESS_KEY\"\n        secret_key = \"YOUR_SECRET_KEY\"\n        host = \"https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=\" + access_key + \"&client_secret=\" + secret_key\n        response = requests.get(host)\n        if response:\n            print(response.json())\n            return response.json()[\"access_token\"]",
    "source": "github_repo:zhayujie/chatgpt-on-wechat",
    "file": "bot/baidu/baidu_unit_bot.py",
    "license": "MIT",
    "language": "python"
}