{
    "code": "def num_tokens_from_messages(messages, model):\n    \"\"\"Returns the number of tokens used by a list of messages.\"\"\"\n    tokens = 0\n    for msg in messages:\n        # 官方token计算规则暂不明确： \"大约为 token数为 \"中文字 + 其他语种单词数 x 1.3\"\n        # 这里先直接根据字数粗略估算吧，暂不影响正常使用，仅在判断是否丢弃历史会话的时候会有偏差\n        tokens += len(msg[\"content\"])\n    return tokens",
    "source": "github_repo:zhayujie/chatgpt-on-wechat",
    "file": "bot/baidu/baidu_wenxin_session.py",
    "license": "MIT",
    "language": "python"
}