{
    "code": "def make_tree(\n        cls, root: Union[str, Path], parent=None, is_last=False, criteria=None\n    ) -> Generator[\"DisplayablePath\", None, None]:\n        \"\"\"\n        Creates a tree of DisplayablePath objects from a root directory.\n\n        Parameters\n        ----------\n        root : Union[str, Path]\n            The root directory from which to start creating the tree.\n        parent : DisplayablePath, optional\n            The parent path in the tree structure.\n        is_last : bool, optional\n            Indicates whether this is the last sibling in the tree structure.\n        criteria : callable, optional\n            A function to filter the paths included in the tree.\n\n        Yields\n        ------\n        DisplayablePath\n            The next DisplayablePath object in the tree.\n        \"\"\"\n        root = Path(str(root))  # Ensure root is a Path object\n        criteria = criteria or cls._default_criteria\n        displayable_root = cls(root, parent, is_last)\n        yield displayable_root\n\n        if root.is_dir():  # Check if root is a directory before iterating\n            children = sorted(\n                list(path for path in root.iterdir() if criteria(path)),\n                key=lambda s: str(s).lower(),\n            )\n            count = 1\n            for path in children:\n                is_last = count == len(children)\n                yield from cls.make_tree(\n                    path, parent=displayable_root, is_last=is_last, criteria=criteria\n                )\n                count += 1",
    "source": "github_repo:AntonOsika/gpt-engineer",
    "file": "gpt_engineer/applications/cli/file_selector.py",
    "license": "MIT",
    "language": "python"
}