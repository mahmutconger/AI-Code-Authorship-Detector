{
    "code": "# Python\nimport ccxt.pro\nfrom asyncio import run, gather\nfrom pprint import pprint\n\n\nasync def place_delayed_order(exchange, symbol, amount, price):\n    try:\n        await exchange.sleep(5000)  # wait a bit\n        order = await exchange.create_limit_buy_order(symbol, amount, price)\n        print(exchange.iso8601(exchange.milliseconds()), 'place_delayed_order')\n        pprint(order)\n        print('---------------------------------------------------------------')\n    except Exception as e:\n        # break\n        print(e)\n\n\nasync def watch_orders_loop(exchange, symbol):\n    while True:\n        try:\n            orders = await exchange.watch_orders(symbol)\n            print(exchange.iso8601(exchange.milliseconds()), 'watch_orders_loop', len(orders), ' last orders cached')\n            print('---------------------------------------------------------------')\n        except Exception as e:\n            # break\n            print(e)\n\n\nasync def watch_balance_loop(exchange):\n    while True:\n        try:\n            balance = await exchange.watch_balance()\n            print(exchange.iso8601(exchange.milliseconds()), 'watch_balance_loop')\n            pprint(balance)\n            print('---------------------------------------------------------------')\n        except Exception as e:\n            # break\n            print(e)\n\n\nasync def main():\n    exchange = ccxt.pro.binanceusdm({\n        'apiKey': 'YOUR_API_KEY',\n        'secret': 'YOUR_SECRET',\n    })\n    symbol = 'BTC/USDT'\n    amount = 0.001\n    price = 11111\n    loops = [\n        watch_orders_loop(exchange, symbol),\n        watch_balance_loop(exchange),\n        place_delayed_order(exchange, symbol, amount, price)\n    ]\n    await gather(*loops)\n    await exchange.close()\n\n\nrun(main())",
    "source": "github_repo:ccxt/ccxt",
    "file": "examples/ccxt.pro/py/binance-watch-orders-being-placed.py",
    "license": "MIT",
    "language": "python"
}