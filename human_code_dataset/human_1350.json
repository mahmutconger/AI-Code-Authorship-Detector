{
    "code": "def main():\n    \"\"\"Main entry point with command line arguments.\"\"\"\n    sys.stdout.reconfigure(encoding='utf-8')\n    parser = argparse.ArgumentParser(\n        description=\"N8N Workflows Search Engine\",\n        formatter_class=argparse.RawDescriptionHelpFormatter,\n        epilog=\"\"\"\nExamples:\n  python run.py                    # Start with default settings\n  python run.py --port 3000        # Start on port 3000\n  python run.py --host 0.0.0.0     # Accept external connections\n  python run.py --reindex          # Force database reindexing\n  python run.py --dev              # Development mode with auto-reload\n        \"\"\"\n    )\n    \n    parser.add_argument(\n        \"--host\", \n        default=\"127.0.0.1\", \n        help=\"Host to bind to (default: 127.0.0.1)\"\n    )\n    parser.add_argument(\n        \"--port\", \n        type=int, \n        default=8000, \n        help=\"Port to bind to (default: 8000)\"\n    )\n    parser.add_argument(\n        \"--reindex\", \n        action=\"store_true\", \n        help=\"Force database reindexing\"\n    )\n    parser.add_argument(\n        \"--dev\",\n        action=\"store_true\",\n        help=\"Development mode with auto-reload\"\n    )\n    parser.add_argument(\n        \"--skip-index\",\n        action=\"store_true\",\n        help=\"Skip workflow indexing (useful for CI/testing)\"\n    )\n\n    args = parser.parse_args()\n\n    # Also check environment variable for CI mode\n    ci_mode = os.environ.get('CI', '').lower() in ('true', '1', 'yes')\n    skip_index = args.skip_index or ci_mode\n    \n    print_banner()\n    \n    # Check dependencies\n    if not check_requirements():\n        sys.exit(1)\n    \n    # Setup directories\n    setup_directories()\n    \n    # Setup database\n    try:\n        setup_database(force_reindex=args.reindex, skip_index=skip_index)\n    except Exception as e:\n        print(f\"‚ùå Database setup error: {e}\")\n        sys.exit(1)\n    \n    # Start server\n    try:\n        start_server(\n            host=args.host, \n            port=args.port, \n            reload=args.dev\n        )\n    except KeyboardInterrupt:\n        print(\"\\nüëã Server stopped!\")\n    except Exception as e:\n        print(f\"‚ùå Server error: {e}\")\n        sys.exit(1)",
    "source": "github_repo:Zie619/n8n-workflows",
    "file": "run.py",
    "license": "MIT",
    "language": "python"
}