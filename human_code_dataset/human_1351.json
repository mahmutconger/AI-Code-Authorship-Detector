{
    "code": "def generate_static_search_index(db_path: str, output_dir: str) -> Dict[str, Any]:\n    \"\"\"Generate a static search index for client-side searching.\"\"\"\n\n    # Initialize database\n    db = WorkflowDatabase(db_path)\n\n    # Get all workflows\n    workflows, total = db.search_workflows(limit=10000)  # Get all workflows\n\n    # Get statistics\n    stats = db.get_stats()\n\n    # Get categories from service mapping\n    categories = db.get_service_categories()\n\n    # Load existing categories from create_categories.py system\n    existing_categories = load_existing_categories()\n\n    # Create simplified workflow data for search\n    search_workflows = []\n    for workflow in workflows:\n        # Create searchable text combining multiple fields\n        searchable_text = ' '.join([\n            workflow['name'],\n            workflow['description'],\n            workflow['filename'],\n            ' '.join(workflow['integrations']),\n            ' '.join(workflow['tags']) if workflow['tags'] else ''\n        ]).lower()\n\n        # Use existing category from create_categories.py system, fallback to integration-based\n        category = get_workflow_category(workflow['filename'], existing_categories, workflow['integrations'], categories)\n\n        search_workflow = {\n            'id': workflow['filename'].replace('.json', ''),\n            'name': workflow['name'],\n            'description': workflow['description'],\n            'filename': workflow['filename'],\n            'active': workflow['active'],\n            'trigger_type': workflow['trigger_type'],\n            'complexity': workflow['complexity'],\n            'node_count': workflow['node_count'],\n            'integrations': workflow['integrations'],\n            'tags': workflow['tags'],\n            'category': category,\n            'searchable_text': searchable_text,\n            'download_url': f\"https://raw.githubusercontent.com/Zie619/n8n-workflows/main/workflows/{extract_folder_from_filename(workflow['filename'])}/{workflow['filename']}\"\n        }\n        search_workflows.append(search_workflow)\n\n    # Create comprehensive search index\n    search_index = {\n        'version': '1.0',\n        'generated_at': stats.get('last_indexed', ''),\n        'stats': {\n            'total_workflows': stats['total'],\n            'active_workflows': stats['active'],\n            'inactive_workflows': stats['inactive'],\n            'total_nodes': stats['total_nodes'],\n            'unique_integrations': stats['unique_integrations'],\n            'categories': len(get_category_list(categories)),\n            'triggers': stats['triggers'],\n            'complexity': stats['complexity']\n        },\n        'categories': get_category_list(categories),\n        'integrations': get_popular_integrations(workflows),\n        'workflows': search_workflows\n    }\n\n    return search_index",
    "source": "github_repo:Zie619/n8n-workflows",
    "file": "scripts/generate_search_index.py",
    "license": "MIT",
    "language": "python"
}