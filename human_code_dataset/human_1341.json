{
    "code": "def run_server(host: str = \"127.0.0.1\", port: int = 8000, reload: bool = False):\n    \"\"\"Run the FastAPI server.\"\"\"\n    # Ensure static directory exists\n    create_static_directory()\n    \n    # Debug: Check database connectivity\n    try:\n        stats = db.get_stats()\n        print(f\"âœ… Database connected: {stats['total']} workflows found\")\n        if stats['total'] == 0:\n            print(\"ğŸ”„ Database is empty. Indexing workflows...\")\n            db.index_all_workflows()\n            stats = db.get_stats()\n    except Exception as e:\n        print(f\"âŒ Database error: {e}\")\n        print(\"ğŸ”„ Attempting to create and index database...\")\n        try:\n            db.index_all_workflows()\n            stats = db.get_stats()\n            print(f\"âœ… Database created: {stats['total']} workflows indexed\")\n        except Exception as e2:\n            print(f\"âŒ Failed to create database: {e2}\")\n            stats = {'total': 0}\n    \n    # Debug: Check static files\n    static_path = Path(\"static\")\n    if static_path.exists():\n        files = list(static_path.glob(\"*\"))\n        print(f\"âœ… Static files found: {[f.name for f in files]}\")\n    else:\n        print(f\"âŒ Static directory not found at: {static_path.absolute()}\")\n    \n    print(f\"ğŸš€ Starting N8N Workflow Documentation API\")\n    print(f\"ğŸ“Š Database contains {stats['total']} workflows\")\n    print(f\"ğŸŒ Server will be available at: http://{host}:{port}\")\n    print(f\"ğŸ“ Static files at: http://{host}:{port}/static/\")\n    \n    uvicorn.run(\n        \"api_server:app\",\n        host=host,\n        port=port,\n        reload=reload,\n        access_log=True,  # Enable access logs for debugging\n        log_level=\"info\"\n    )",
    "source": "github_repo:Zie619/n8n-workflows",
    "file": "api_server.py",
    "license": "MIT",
    "language": "python"
}