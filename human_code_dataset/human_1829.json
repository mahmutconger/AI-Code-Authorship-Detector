{
    "code": "class ColoredFormatter(logging.Formatter):\n    \"\"\"Custom formatter that adds colors to log messages.\"\"\"\n    # ANSI color codes\n    COLORS = {\n        'DEBUG': '\\033[36m',    # Cyan\n        'INFO': '\\033[32m',     # Green\n        'WARNING': '\\033[33m',  # Yellow\n        'ERROR': '\\033[31m',    # Red\n        'CRITICAL': '\\033[35m', # Magenta\n    }\n    RESET = '\\033[0m'\n    BOLD = '\\033[1m'\n    def format(self, record):\n        # Add color to the level name\n        levelname = record.levelname\n        if levelname in self.COLORS:\n            record.levelname = f\"{self.COLORS[levelname]}{self.BOLD}{levelname}{self.RESET}\"\n        # Format the message\n        message = super().format(record)\n        # Add color to specific parts of the message\n        if levelname == 'INFO':\n            # Highlight numbers and percentages\n            message = re.sub(r'(\\d+\\.?\\d*\\s*(?:GB|MB|%|docs))', rf'{self.BOLD}\\1{self.RESET}', message)\n            message = re.sub(r'(Shard \\d+)', rf'{self.COLORS[\"INFO\"]}{self.BOLD}\\1{self.RESET}', message)\n        return message",
    "source": "github_repo:karpathy/nanochat",
    "file": "nanochat/common.py",
    "license": "MIT",
    "language": "python"
}