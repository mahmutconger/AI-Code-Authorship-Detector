{
    "code": "class Debator(Role):\n    name: str = \"\"\n    profile: str = \"\"\n    opponent_name: str = \"\"\n\n    def __init__(self, **data: Any):\n        super().__init__(**data)\n        self.set_actions([SpeakAloud])\n        self._watch([UserRequirement, SpeakAloud])\n\n    async def _observe(self) -> int:\n        await super()._observe()\n        # accept messages sent (from opponent) to self, disregard own messages from the last round\n        self.rc.news = [msg for msg in self.rc.news if msg.send_to == {self.name}]\n        return len(self.rc.news)\n\n    async def _act(self) -> Message:\n        logger.info(f\"{self._setting}: to do {self.rc.todo}({self.rc.todo.name})\")\n        todo = self.rc.todo  # An instance of SpeakAloud\n\n        memories = self.get_memories()\n        context = \"\\n\".join(f\"{msg.sent_from}: {msg.content}\" for msg in memories)\n        # print(context)\n\n        rsp = await todo.run(context=context, name=self.name, opponent_name=self.opponent_name)\n\n        msg = Message(\n            content=rsp,\n            role=self.profile,\n            cause_by=type(todo),\n            sent_from=self.name,\n            send_to=self.opponent_name,\n        )\n        self.rc.memory.add(msg)\n\n        return msg",
    "source": "github_repo:FoundationAgents/MetaGPT",
    "file": "examples/debate.py",
    "license": "MIT",
    "language": "python"
}