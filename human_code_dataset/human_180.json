{
    "code": "class __ModuleName__Retriever(BaseRetriever):\n    # TODO: Replace all TODOs in docstring. See example docstring:\n    # https://github.com/langchain-ai/langchain/blob/master/libs/community/langchain_community/retrievers/tavily_search_api.py#L17\n    \"\"\"__ModuleName__ retriever.\n\n    # TODO: Replace with relevant packages, env vars, etc.\n    Setup:\n        Install `__package_name__` and set environment variable\n        `__MODULE_NAME___API_KEY`.\n\n        ```bash\n        pip install -U __package_name__\n        export __MODULE_NAME___API_KEY=\"your-api-key\"\n        ```\n\n    # TODO: Populate with relevant params.\n    Key init args:\n        arg 1: type\n            description\n        arg 2: type\n            description\n\n    # TODO: Replace with relevant init params.\n    Instantiate:\n        ```python\n        from __package_name__ import __ModuleName__Retriever\n\n        retriever = __ModuleName__Retriever(\n            # ...\n        )\n        ```\n\n    Usage:\n        ```python\n        query = \"...\"\n\n        retriever.invoke(query)\n        ```\n\n        ```txt\n        # TODO: Example output.\n        ```\n\n    Use within a chain:\n        ```python\n        from langchain_core.output_parsers import StrOutputParser\n        from langchain_core.prompts import ChatPromptTemplate\n        from langchain_core.runnables import RunnablePassthrough\n        from langchain_openai import ChatOpenAI\n\n        prompt = ChatPromptTemplate.from_template(\n            \\\"\\\"\\\"Answer the question based only on the context provided.\n\n        Context: {context}\n\n        Question: {question}\\\"\\\"\\\"\n        )\n\n        model = ChatOpenAI(model=\"gpt-3.5-turbo-0125\")\n\n        def format_docs(docs):\n            return \"\\\\n\\\\n\".join(doc.page_content for doc in docs)\n\n        chain = (\n            {\"context\": retriever | format_docs, \"question\": RunnablePassthrough()}\n            | prompt\n            | model\n            | StrOutputParser()\n        )\n\n        chain.invoke(\"...\")\n        ```\n\n        ```\n        # TODO: Example output.\n        ```\n\n    \"\"\"\n\n    k: int = 3\n\n    # TODO: This method must be implemented to retrieve documents.\n    def _get_relevant_documents(\n        self, query: str, *, run_manager: CallbackManagerForRetrieverRun, **kwargs: Any\n    ) -> List[Document]:\n        k = kwargs.get(\"k\", self.k)\n        return [\n            Document(page_content=f\"Result {i} for query: {query}\") for i in range(k)\n        ]",
    "source": "github_repo:langchain-ai/langchain",
    "file": "libs/cli/langchain_cli/integration_template/integration_template/retrievers.py",
    "license": "MIT",
    "language": "python"
}