{
    "code": "def get_min_version_from_toml(\n    toml_path: str,\n    versions_for: str,\n    python_version: str,\n    *,\n    include: list | None = None,\n):\n    # Parse the TOML file\n    with open(toml_path, \"rb\") as file:\n        toml_data = tomllib.load(file)\n\n    dependencies = defaultdict(list)\n    for dep in toml_data[\"project\"][\"dependencies\"]:\n        requirement = Requirement(dep)\n        dependencies[requirement.name].append(requirement)\n\n    # Initialize a dictionary to store the minimum versions\n    min_versions = {}\n\n    # Iterate over the libs in MIN_VERSION_LIBS\n    for lib in set(MIN_VERSION_LIBS + (include or [])):\n        if versions_for == \"pull_request\" and lib in SKIP_IF_PULL_REQUEST:\n            # some libs only get checked on release because of simultaneous\n            # changes in multiple libs\n            continue\n        # Check if the lib is present in the dependencies\n        if lib in dependencies:\n            if include and lib not in include:\n                continue\n            requirements = dependencies[lib]\n            for requirement in requirements:\n                if _check_python_version_from_requirement(requirement, python_version):\n                    version_string = str(requirement.specifier)\n                    break\n\n            # Use parse_version to get the minimum supported version from version_string\n            min_version = get_minimum_version(lib, version_string)\n\n            # Store the minimum version in the min_versions dictionary\n            min_versions[lib] = min_version\n\n    return min_versions",
    "source": "github_repo:langchain-ai/langchain",
    "file": ".github/scripts/get_min_versions.py",
    "license": "MIT",
    "language": "python"
}