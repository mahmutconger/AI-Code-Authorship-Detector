{
    "code": "#!/usr/bin/env python\n# This module generates the listing of supported sites which can be found in\n# sites.mdx. It also organizes all the sites in alphanumeric order\nimport json\nimport os\n\nDATA_REL_URI: str = \"sherlock_project/resources/data.json\"\n\nDEFAULT_ENCODING = \"utf-8\"\n\n# Read the data.json file\nwith open(DATA_REL_URI, \"r\", encoding=DEFAULT_ENCODING) as data_file:\n    data: dict = json.load(data_file)\n\n# Removes schema-specific keywords for proper processing\nsocial_networks = data.copy()\nsocial_networks.pop('$schema', None)\n\n# Sort the social networks in alphanumeric order\nsocial_networks = sorted(social_networks.items())\n\n# Make output dir where the site list will be written\nos.mkdir(\"output\")\n\n# Write the list of supported sites to sites.mdx\nwith open(\"output/sites.mdx\", \"w\", encoding=DEFAULT_ENCODING) as site_file:\n    site_file.write(\"---\\n\")\n    site_file.write(\"title: 'List of supported sites'\\n\")\n    site_file.write(\"sidebarTitle: 'Supported sites'\\n\")\n    site_file.write(\"icon: 'globe'\\n\")\n    site_file.write(\"description: 'Sherlock currently supports **400+** sites'\\n\")\n    site_file.write(\"---\\n\\n\")\n\n    for social_network, info in social_networks:\n        url_main = info[\"urlMain\"]\n        is_nsfw = \"**(NSFW)**\" if info.get(\"isNSFW\") else \"\"\n        site_file.write(f\"1. [{social_network}]({url_main}) {is_nsfw}\\n\")\n\n# Overwrite the data.json file with sorted data\nwith open(DATA_REL_URI, \"w\", encoding=DEFAULT_ENCODING) as data_file:\n    sorted_data = json.dumps(data, indent=2, sort_keys=True)\n    data_file.write(sorted_data)\n    data_file.write(\"\\n\")  # Keep the newline after writing data\n\nprint(\"Finished updating supported site listing!\")",
    "source": "github_repo:sherlock-project/sherlock",
    "file": "devel/site-list.py",
    "license": "MIT",
    "language": "python"
}