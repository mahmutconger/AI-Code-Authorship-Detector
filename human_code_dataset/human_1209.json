{
    "code": "def __init_logger():\n    # _log_file = utils.storage_dir(\"logs/server.log\")\n    _lvl = config.log_level\n    root_dir = os.path.dirname(\n        os.path.dirname(os.path.dirname(os.path.realpath(__file__)))\n    )\n\n    def format_record(record):\n        # 获取日志记录中的文件全路径\n        file_path = record[\"file\"].path\n        # 将绝对路径转换为相对于项目根目录的路径\n        relative_path = os.path.relpath(file_path, root_dir)\n        # 更新记录中的文件路径\n        record[\"file\"].path = f\"./{relative_path}\"\n        # 返回修改后的格式字符串\n        # 您可以根据需要调整这里的格式\n        _format = (\n            \"<green>{time:%Y-%m-%d %H:%M:%S}</> | \"\n            + \"<level>{level}</> | \"\n            + '\"{file.path}:{line}\":<blue> {function}</> '\n            + \"- <level>{message}</>\"\n            + \"\\n\"\n        )\n        return _format\n\n    logger.remove()\n\n    logger.add(\n        sys.stdout,\n        level=_lvl,\n        format=format_record,\n        colorize=True,\n    )",
    "source": "github_repo:harry0703/MoneyPrinterTurbo",
    "file": "app/config/__init__.py",
    "license": "MIT",
    "language": "python"
}