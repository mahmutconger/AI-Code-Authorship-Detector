{
    "code": "class CheatSheets(GitRepositoryAdapter):\n    \"\"\"\n    Adapter for the cheat.sheets cheat sheets.\n    \"\"\"\n\n    _adapter_name = \"cheat.sheets\"\n    _output_format = \"code\"\n    _repository_url = \"https://github.com/chubin/cheat.sheets\"\n    _cheatsheet_files_prefix = \"sheets/\"\n\n    def _get_list(self, prefix=None):\n        \"\"\"\n        Return all files on the first and the second level,\n        excluding directories and hidden files\n        \"\"\"\n\n        hidden_files = [\"_info.yaml\"]\n        answer = []\n        prefix = os.path.join(\n            self.local_repository_location(), self._cheatsheet_files_prefix\n        )\n        for mask in [\"*\", \"*/*\"]:\n            template = os.path.join(prefix, mask)\n\n            answer += [\n                _sanitize_dirnames(f_name[len(prefix) :])\n                for f_name in glob.glob(template)\n                if not os.path.isdir(f_name)\n                and os.path.basename(f_name) not in hidden_files\n            ]\n\n        return sorted(answer)\n\n    def _get_page(self, topic, request_options=None):\n\n        filename = os.path.join(\n            self.local_repository_location(),\n            self._cheatsheet_files_prefix,\n            _sanitize_dirnames(topic, restore=True),\n        )\n\n        if os.path.exists(filename):\n            answer = self._format_page(open(filename, \"r\").read())\n        else:\n            # though it should not happen\n            answer = \"%s:%s not found\" % (str(self.__class__), topic)\n\n        return answer",
    "source": "github_repo:chubin/cheat.sh",
    "file": "lib/adapter/cheat_sheets.py",
    "license": "MIT",
    "language": "python"
}