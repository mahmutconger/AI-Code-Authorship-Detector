{
    "code": "def _format_rate_limit_error(status_code: int, headers: httpx.Headers, url: str) -> str:\n    \"\"\"Format a user-friendly error message with rate-limit information.\"\"\"\n    rate_info = _parse_rate_limit_headers(headers)\n    \n    lines = [f\"GitHub API returned status {status_code} for {url}\"]\n    lines.append(\"\")\n    \n    if rate_info:\n        lines.append(\"[bold]Rate Limit Information:[/bold]\")\n        if \"limit\" in rate_info:\n            lines.append(f\"  • Rate Limit: {rate_info['limit']} requests/hour\")\n        if \"remaining\" in rate_info:\n            lines.append(f\"  • Remaining: {rate_info['remaining']}\")\n        if \"reset_local\" in rate_info:\n            reset_str = rate_info[\"reset_local\"].strftime(\"%Y-%m-%d %H:%M:%S %Z\")\n            lines.append(f\"  • Resets at: {reset_str}\")\n        if \"retry_after_seconds\" in rate_info:\n            lines.append(f\"  • Retry after: {rate_info['retry_after_seconds']} seconds\")\n        lines.append(\"\")\n    \n    # Add troubleshooting guidance\n    lines.append(\"[bold]Troubleshooting Tips:[/bold]\")\n    lines.append(\"  • If you're on a shared CI or corporate environment, you may be rate-limited.\")\n    lines.append(\"  • Consider using a GitHub token via --github-token or the GH_TOKEN/GITHUB_TOKEN\")\n    lines.append(\"    environment variable to increase rate limits.\")\n    lines.append(\"  • Authenticated requests have a limit of 5,000/hour vs 60/hour for unauthenticated.\")\n    \n    return \"\\n\".join(lines)",
    "source": "github_repo:github/spec-kit",
    "file": "src/specify_cli/__init__.py",
    "license": "MIT",
    "language": "python"
}