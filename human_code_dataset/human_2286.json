{
    "code": "def run(engine: ScriptEngine):\n    \"\"\"\n    脚本策略的主函数说明：\n    1. 唯一入参是脚本引擎ScriptEngine对象，通用它来完成查询和请求操作\n    2. 该函数会通过一个独立的线程来启动运行，区别于其他策略模块的事件驱动\n    3. while循环的维护，请通过engine.strategy_active状态来判断，实现可控退出\n\n    脚本策略的应用举例：\n    1. 自定义篮子委托执行执行算法\n    2. 股指期货和一篮子股票之间的对冲策略\n    3. 国内外商品跨交易所的套利\n    4. 自定义组合指数行情监控以及消息通知\n    5. 股票市场扫描选股类交易策略（龙一、龙二）\n    6. 等等~~~\n    \"\"\"\n    vt_symbols = [\"IF2506.CFFEX\", \"rb2510.SHFE\"]\n\n    # 订阅行情\n    engine.subscribe(vt_symbols)\n\n    # 获取合约信息\n    for vt_symbol in vt_symbols:\n        contract = engine.get_contract(vt_symbol)\n        msg = f\"合约信息，{contract}\"\n        engine.write_log(msg)\n\n    # 持续运行，使用strategy_active来判断是否要退出程序\n    while engine.strategy_active:\n        # 轮询获取行情\n        for vt_symbol in vt_symbols:\n            tick = engine.get_tick(vt_symbol)\n            msg = f\"最新行情, {tick}\"\n            engine.write_log(msg)\n\n        # 等待3秒进入下一轮\n        sleep(3)",
    "source": "github_repo:vnpy/vnpy",
    "file": "examples/veighna_trader/demo_script.py",
    "license": "MIT",
    "language": "python"
}