{
    "code": "# -*- coding: utf-8 -*-\n\nimport ccxt.pro\nfrom asyncio import run\n\n\nprint('CCXT Version:', ccxt.__version__)\n\n\n# This example will run silent and will return your balance only when the balance is updated.\n#\n# 1. launch the example with your keys and keep it running\n# 2. go to the trading section on the website\n# 3. place a order on a spot market\n# 4. see your balance updated in the example\n#\n# Warning! This example might produce a lot of output to your screen\n\n\nasync def watch_balance(exchange):\n    await exchange.load_markets()\n    # exchange.verbose = True  # uncomment for debugging purposes if necessary\n    balance = await exchange.fetch_balance()\n    print('---------------------------------------------------------')\n    print(exchange.iso8601(exchange.milliseconds()))\n    print(balance)\n    print('')\n    while True:\n        try:\n            update = await exchange.watch_balance()\n            balance = exchange.deep_extend(balance, update)\n            # it will print the balance update when the balance changes\n            # if the balance remains unchanged the exchange will not send it\n            print('---------------------------------------------------------')\n            print(exchange.iso8601(exchange.milliseconds()))\n            print(balance)\n            print('')\n        except Exception as e:\n            print('watch_balance() failed')\n            print(type(e).__name__, str(e))\n            break\n\n\nasync def main():\n    exchange = ccxt.pro.binance({\n        'apiKey': 'YOUR_API_KEY',\n        'secret': 'YOUR_SECRET',\n    })\n    await watch_balance(exchange)\n    await exchange.close()\n\n\nrun(main())",
    "source": "github_repo:ccxt/ccxt",
    "file": "examples/ccxt.pro/py/binance-fetch-balance-snapshot-watch-balance-updates.py",
    "license": "MIT",
    "language": "python"
}