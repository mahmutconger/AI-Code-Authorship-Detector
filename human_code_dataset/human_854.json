{
    "code": "def show_prediction_labels_on_image(frame, predictions):\n    \"\"\"\n    Shows the face recognition results visually.\n\n    :param frame: frame to show the predictions on\n    :param predictions: results of the predict function\n    :return opencv suited image to be fitting with cv2.imshow fucntion:\n    \"\"\"\n    pil_image = Image.fromarray(frame)\n    draw = ImageDraw.Draw(pil_image)\n\n    for name, (top, right, bottom, left) in predictions:\n        # enlarge the predictions for the full sized image.\n        top *= 2\n        right *= 2\n        bottom *= 2\n        left *= 2\n        # Draw a box around the face using the Pillow module\n        draw.rectangle(((left, top), (right, bottom)), outline=(0, 0, 255))\n\n        # There's a bug in Pillow where it blows up with non-UTF-8 text\n        # when using the default bitmap font\n        name = name.encode(\"UTF-8\")\n\n        # Draw a label with a name below the face\n        text_width, text_height = draw.textsize(name)\n        draw.rectangle(((left, bottom - text_height - 10), (right, bottom)), fill=(0, 0, 255), outline=(0, 0, 255))\n        draw.text((left + 6, bottom - text_height - 5), name, fill=(255, 255, 255, 255))\n\n    # Remove the drawing library from memory as per the Pillow docs.\n    del draw\n    # Save image in open-cv format to be able to show it.\n\n    opencvimage = np.array(pil_image)\n    return opencvimage",
    "source": "github_repo:ageitgey/face_recognition",
    "file": "examples/facerec_ipcamera_knn.py",
    "license": "MIT",
    "language": "python"
}