{
    "code": "def getDrvicesID(session):\n    \"\"\"\n    :return:\n    \"\"\"\n    print(\"cookie获取中\")\n    if TickerConfig.COOKIE_TYPE is 1:\n        from selenium import webdriver\n        cookies = []\n        # 解决放镜像里 DevToolsActivePort file doesn't exist的问题\n        options = webdriver.ChromeOptions()\n        if os.name != 'nt' and TickerConfig.CHROME_CHROME_PATH:\n            options = webdriver.ChromeOptions()\n            options.binary_location = TickerConfig.CHROME_CHROME_PATH\n            options.add_argument(\n                '--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36')\n            options.add_argument(\"--no-sandbox\")\n            options.add_argument(\"--headless\")\n        driver = webdriver.Chrome(executable_path=TickerConfig.CHROME_PATH,chrome_options=options)\n        driver.get(\"https://www.12306.cn/index/index.html\")\n        time.sleep(10)\n        for c in driver.get_cookies():\n            cookie = dict()\n            print()\n            if c.get(\"name\") == \"RAIL_DEVICEID\" or c.get(\"name\") == \"RAIL_EXPIRATION\":\n                cookie[c.get(\"name\")] = c.get(\"value\")\n                cookies.append(cookie)\n        print(f\"获取cookie: {cookies}\")\n        if cookies:\n            session.httpClint.set_cookies(cookies)\n            session.cookies = cookies\n        print(\"cookie获取完成\")\n    elif TickerConfig.COOKIE_TYPE is 2:\n        request_device_id(session)\n    elif TickerConfig.COOKIE_TYPE is 3:\n        # RAIL_DEVICEID,RAIL_EXPIRATION的值打开12306官网可以获取headers-Cookies\n        if not TickerConfig.RAIL_DEVICEID or not TickerConfig.RAIL_EXPIRATION:\n            print(\"警告！！: RAIL_DEVICEID,RAIL_EXPIRATION的值为空，请手动打开12306官网可以获取headers-Cookies中的RAIL_DEVICEID,RAIL_EXPIRATION，填入配置文件中\")\n        cookies = [{\n            \"RAIL_DEVICEID\": TickerConfig.RAIL_DEVICEID,\n            \"RAIL_EXPIRATION\": TickerConfig.RAIL_EXPIRATION,\n        }]\n        session.httpClint.set_cookies(cookies)\n        session.cookies = cookies",
    "source": "github_repo:testerSunshine/12306",
    "file": "config/getCookie.py",
    "license": "MIT",
    "language": "python"
}