{
    "code": "def ensure_executable_scripts(project_path: Path, tracker: StepTracker | None = None) -> None:\n    \"\"\"Ensure POSIX .sh scripts under .specify/scripts (recursively) have execute bits (no-op on Windows).\"\"\"\n    if os.name == \"nt\":\n        return  # Windows: skip silently\n    scripts_root = project_path / \".specify\" / \"scripts\"\n    if not scripts_root.is_dir():\n        return\n    failures: list[str] = []\n    updated = 0\n    for script in scripts_root.rglob(\"*.sh\"):\n        try:\n            if script.is_symlink() or not script.is_file():\n                continue\n            try:\n                with script.open(\"rb\") as f:\n                    if f.read(2) != b\"#!\":\n                        continue\n            except Exception:\n                continue\n            st = script.stat(); mode = st.st_mode\n            if mode & 0o111:\n                continue\n            new_mode = mode\n            if mode & 0o400: new_mode |= 0o100\n            if mode & 0o040: new_mode |= 0o010\n            if mode & 0o004: new_mode |= 0o001\n            if not (new_mode & 0o100):\n                new_mode |= 0o100\n            os.chmod(script, new_mode)\n            updated += 1\n        except Exception as e:\n            failures.append(f\"{script.relative_to(scripts_root)}: {e}\")\n    if tracker:\n        detail = f\"{updated} updated\" + (f\", {len(failures)} failed\" if failures else \"\")\n        tracker.add(\"chmod\", \"Set script permissions recursively\")\n        (tracker.error if failures else tracker.complete)(\"chmod\", detail)\n    else:\n        if updated:\n            console.print(f\"[cyan]Updated execute permissions on {updated} script(s) recursively[/cyan]\")\n        if failures:\n            console.print(\"[yellow]Some scripts could not be updated:[/yellow]\")\n            for f in failures:\n                console.print(f\"  - {f}\")",
    "source": "github_repo:github/spec-kit",
    "file": "src/specify_cli/__init__.py",
    "license": "MIT",
    "language": "python"
}