{
    "code": "def main():\n    \"\"\"Universal update script that handles both base and main updates in a single run.\n\n    Usage:\n    update_pyproject_combined.py main <main_tag> <base_tag> <lfx_tag>\n    \"\"\"\n    arg_count = 5\n    if len(sys.argv) != arg_count:\n        print(\"Usage:\")\n        print(\"  update_pyproject_combined.py main <main_tag> <base_tag> <lfx_tag>\")\n        sys.exit(1)\n\n    mode = sys.argv[1]\n    if mode != \"main\":\n        print(\"Only 'main' mode is supported\")\n        print(\"Usage: update_pyproject_combined.py main <main_tag> <base_tag> <lfx_tag>\")\n        sys.exit(1)\n\n    main_tag = sys.argv[2]\n    base_tag = sys.argv[3]\n    lfx_tag = sys.argv[4]\n\n    # First handle base package updates\n    update_pyproject_name(\"src/backend/base/pyproject.toml\", \"langflow-base-nightly\")\n    update_name_uv_dep(\"pyproject.toml\", \"langflow-base-nightly\")\n    update_pyproject_version(\"src/backend/base/pyproject.toml\", base_tag)\n\n    # Update LFX dependency in langflow-base\n    lfx_version = lfx_tag.lstrip(\"v\")\n    update_lfx_dep_in_base(\"src/backend/base/pyproject.toml\", lfx_version)\n\n    # Then handle main package updates\n    update_pyproject_name(\"pyproject.toml\", \"langflow-nightly\")\n    update_name_uv_dep(\"pyproject.toml\", \"langflow-nightly\")\n    update_pyproject_version(\"pyproject.toml\", main_tag)\n    # Update dependency version (strip 'v' prefix if present)\n    base_version = base_tag.lstrip(\"v\")\n    update_version_uv_dep(base_version)",
    "source": "github_repo:langflow-ai/langflow",
    "file": "scripts/ci/update_pyproject_combined.py",
    "license": "MIT",
    "language": "python"
}