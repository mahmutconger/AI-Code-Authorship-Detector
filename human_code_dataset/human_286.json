{
    "code": "def with_confirmation(proc, TIMEOUT):\n    \"\"\"Ensures that command can be fixed when confirmation enabled.\"\"\"\n    _set_confirmation(proc, True)\n\n    proc.sendline(u'ehco test')\n\n    proc.sendline(u'fuck')\n    assert proc.expect([TIMEOUT, u'echo test'])\n    assert proc.expect([TIMEOUT, u'enter'])\n    assert proc.expect_exact([TIMEOUT, u'ctrl+c'])\n    proc.send('\\n')\n\n    assert proc.expect([TIMEOUT, u'test'])",
    "source": "github_repo:nvbn/thefuck",
    "file": "tests/functional/plots.py",
    "license": "MIT",
    "language": "python"
}