{
    "code": "def convert_stream(\n        self,\n        stream: BinaryIO,\n        *,\n        stream_info: Optional[StreamInfo] = None,\n        file_extension: Optional[str] = None,  # Deprecated -- use stream_info\n        url: Optional[str] = None,  # Deprecated -- use stream_info\n        **kwargs: Any,\n    ) -> DocumentConverterResult:\n        guesses: List[StreamInfo] = []\n\n        # Do we have anything on which to base a guess?\n        base_guess = None\n        if stream_info is not None or file_extension is not None or url is not None:\n            # Start with a non-Null base guess\n            if stream_info is None:\n                base_guess = StreamInfo()\n            else:\n                base_guess = stream_info\n\n            if file_extension is not None:\n                # Deprecated -- use stream_info\n                assert base_guess is not None  # for mypy\n                base_guess = base_guess.copy_and_update(extension=file_extension)\n\n            if url is not None:\n                # Deprecated -- use stream_info\n                assert base_guess is not None  # for mypy\n                base_guess = base_guess.copy_and_update(url=url)\n\n        # Check if we have a seekable stream. If not, load the entire stream into memory.\n        if not stream.seekable():\n            buffer = io.BytesIO()\n            while True:\n                chunk = stream.read(4096)\n                if not chunk:\n                    break\n                buffer.write(chunk)\n            buffer.seek(0)\n            stream = buffer\n\n        # Add guesses based on stream content\n        guesses = self._get_stream_info_guesses(\n            file_stream=stream, base_guess=base_guess or StreamInfo()\n        )\n        return self._convert(file_stream=stream, stream_info_guesses=guesses, **kwargs)",
    "source": "github_repo:microsoft/markitdown",
    "file": "packages/markitdown/src/markitdown/_markitdown.py",
    "license": "MIT",
    "language": "python"
}