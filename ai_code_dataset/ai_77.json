{
    "code": "def push_relabel(graph, source, sink):\n    def initialize_preflow():\n        height[source] = n\n        excess[source] = float('inf')\n        for neighbor, capacity in graph[source].items():\n            flow[(source, neighbor)] = capacity\n            flow[(neighbor, source)] = -capacity\n            excess[neighbor] = capacity\n            excess[source] -= capacity\n\n    def push(u, v):\n        send = min(excess[u], graph[u][v] - flow[(u, v)])\n        flow[(u, v)] += send\n        flow[(v, u)] -= send\n        excess[u] -= send\n        excess[v] += send\n\n    def relabel(u):\n        min_height = float('inf')\n        for v in graph[u]:\n            if graph[u][v] - flow[(u, v)] > 0:\n                min_height = min(min_height, height[v])\n                height[u] = min_height + 1\n\n    def discharge(u):\n        while excess[u] > 0:\n            if current[u] < len(graph[u]):\n                v = list(graph[u].keys())[current[u]]\n                if graph[u][v] - flow[(u, v)] > 0 and height[u] == height[v] + 1:\n                    push(u, v)\n                else:\n                    current[u] += 1\n            else:\n                relabel(u)\n                current[u] = 0\n\n    n = len(graph)\n    height = [0] * n\n    height[source] = n\n    excess = [0] * n\n    excess[source] = float('inf')\n    flow = {(u, v): 0 for u in range(n) for v in graph[u]}\n    current = [0] * n\n\n    initialize_preflow()\n\n    active_nodes = [node for node in range(n) if node != source and node != sink]\n\n    while active_nodes:\n        u = active_nodes.pop()\n        old_height = height[u]\n        discharge(u)\n        if height[u] > old_height:\n            active_nodes.insert(0, u)\n            active_nodes.extend([v for v in graph[u] if v != source and v != sink])\n\n    max_flow = sum(flow[(source, v)] for v in graph[source])\n    return max_flow",
    "source": "test-data-ai",
    "prompt": "Push-relabel algoritmasını max flow için yaz.",
    "license": "MIT",
    "language": "python"
}