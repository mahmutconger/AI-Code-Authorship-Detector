{
    "code": "class TrieNode:\n    def __init__(self):\n        self.children = {}\n        self.is_word = False\n\nclass Trie:\n    def __init__(self):\n        self.root = TrieNode()\n\n    def insert(self, word: str) -> None:\n        node = self.root\n        for char in word:\n            if char not in node.children:\n                node.children[char] = TrieNode()\n            node = node.children[char]\n        node.is_word = True\n\n    def search(self, prefix: str) -> List[str]:\n        node = self.root\n        for char in prefix:\n            if char not in node.children:\n                return []\n            node = node.children[char]\n        return self.dfs(node, prefix)\n\n    def dfs(self, node: TrieNode, prefix: str) -> List[str]:\n        words = []\n        if node.is_word:\n            words.append(prefix)\n        for char, child_node in node.children.items():\n            words.extend(self.dfs(child_node, prefix + char))\n        return words\n\nclass WordDictionary:\n    def __init__(self):\n        self.trie = Trie()\n\n    def addWord(self, word: str) -> None:\n        self.trie.insert(word)\n\n    def search(self, word: str) -> bool:\n        return any(self.trie.search(prefix) for prefix in self.prefixes(word))\n\n    def prefixes(self, word: str) -> List[str]:\n        res = []\n        for i in range(len(word)):\n            res.append(word[:i + 1])\n        return res + [word + suf for suf in ['$', '?', '*']]\n\nclass Solution:\n    def solve(self, board: List[List[str]], words: List[str]) -> List[str]:\n        self.board = board\n        self.rows, self.cols = len(board), len(board[0])\n        self.words = set(words)\n        self.trie = WordDictionary()\n        for word in self.words:\n            self.trie.addWord(word)\n        self.res = set()\n        for r in range(self.rows):\n            for c in range(self.cols):\n                if board[r][c] in self.trie.root.children:\n                    self.dfs(r, c, self.trie.root.children[board[r][c]], (r, c))\n        return list(self.res)\n\n    def dfs(self, r: int, c: int, node: TrieNode, cur: Tuple[int, int]) -> None:\n        if node.is_word:\n            self.res.add(\"\".join(self.board[cur[0]][cur[1]:]))\n        tmp, self.board[cur[0]][cur[1]] = self.board[cur[0]][cur[1]], '#'\n        for dr, dc in [(0, 1), (1, 0), (0, -1), (-1, 0)]:\n            new_r, new_c = cur[0] + dr, cur[1] + dc\n            if 0 <= new_r < self.rows and 0 <= new_c < self.cols and self.board[new_r][new_c] in node.children:\n                self.dfs(new_r, new_c, node.children[self.board[new_r][new_c]], (new_r, new_c))\n        self.board[cur[0]][cur[1]] = tmp",
    "source": "test-data-ai",
    "prompt": "Prefix and suffix search using trie yaz.",
    "license": "MIT",
    "language": "python"
}